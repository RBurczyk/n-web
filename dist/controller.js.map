{"version":3,"file":"controller.js","sourceRoot":"","sources":["../src/controller.ts"],"names":[],"mappings":";;AAAA,iBAAe;AACf,2CAAoC;AACpC,iCAAgC;AAEhC,SAAS;AACT;IAAA;IAwBA,CAAC;IAlBa,gCAAW,GAArB,UAAsB,KAAa,EAAE,MAAW,EAAE,OAAgB;QAE9D,mBAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,CAAC,mBAAmB,EAAE,EAAxB,CAAwB,CAAC,CAAC;QAC7E,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;QACrB,EAAE,CAAC,CAAC,OAAO,KAAK,SAAS,IAAI,OAAO,IAAI,IAAI,CAAC,CAC7C,CAAC;YACG,OAAO,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACtB,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAEpD,KAAK,GAAG,OAAO,GAAG,KAAK,CAAC;QAC5B,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC;YACf,MAAM,CAAC,KAAK,CAAC;QAEjB,MAAM,CAAC,IAAI,aAAK,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAChD,CAAC;IACL,iBAAC;AAAD,CAAC,AAxBD,IAwBC;AAxBqB,gCAAU","sourcesContent":["import \"n-ext\";\nimport { given } from \"n-defensive\";\nimport { Route } from \"./route\";\n\n// public\nexport abstract class Controller\n{\n    public abstract execute(...params: any[]): Promise<any>;\n    \n    protected generateUrl(route: string, params: any): string;\n    protected generateUrl(route: string, params: any, baseUrl: string): string;\n    protected generateUrl(route: string, params: any, baseUrl?: string): string\n    {\n        given(route, \"route\").ensureHasValue().ensure(t => !t.isEmptyOrWhiteSpace());\n        route = route.trim();\n        if (baseUrl !== undefined && baseUrl != null)\n        {\n            baseUrl = baseUrl.trim();\n            if (baseUrl.endsWith(\"/\"))\n                baseUrl = baseUrl.substr(0, baseUrl.length - 1);\n            \n            route = baseUrl + route;\n        }    \n        \n        if (params == null)\n            return route;\n        \n        return new Route(route).generateUrl(params);\n    }\n}"]}